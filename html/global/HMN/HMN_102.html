<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover">
  <meta name="format-detection" content="telephone=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>HMN_102</title>

  <link rel="stylesheet" href="../../..../../../css/hmui/swiper.css">
  <link rel="stylesheet" href="../../../css/hmui/animate.css">
  <link rel="stylesheet" href="../../../css/hmui/common.css">
  <link rel="stylesheet" href="../../../css/global/contents.css">
  <script src="../../../js/hmui/lib/jquery-1.12.3.min.js"></script>
  <script src="../../../js/hmui/lib/swiper.js"></script>
  <script src="../../../js/hmui/lib/waypoints.min.js"></script>
  <script src="../../../js/hmui/lib/jquery.counterup.js"></script>
  <script src="../../../js/hmui/ui_common.js"></script>
</head>
<body>
  <main id="root">
    
    <!-- // header -->

    <!-- // contents-->

    <!-- 퍼블 동작확인용 버튼 -->
    <button class="btn_txt fnOpenPop" data-name="popupId">환율 알림 설정 완료</button>

    <!-- popup -->
    <div id="popupId" class="wrap_layer type_full">
      <div class="inner_layer">
        <div class="content_layer type_full">
          
          <div class="section_moneybag_all">
            <!-- CASE #3 약관동의O 계좌연결O -->
            <!-- 22.11.00 환종추가 -->
            <div class="wrap_moneybag_all">
              <h2 class="blind">하나머니 전체보기</h2>
              <div class="wrap_btn type_justify">
                <button type="button" class="btn_ico_howto left"><span>사용법</span><span class="ico_tap"></span></button>
                <button type="button" class="btn_ico_reordering right"><span>잔액기준 재정렬</span><span class="ico_refresh_2"></span></button>
              </div>
              <div class="list_moneybag">
                <h3><span class="txt">홈 화면에서 보여져요</span><span class="bor"></span></h3>
                <ul id="showList">
                  <li id="hanamoney">
                    <span class="chk_star">
                      <input type="checkbox" id="ccy01" name="ccy" checked disabled/>
                      <label for="ccy01"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_hanamoney"></span>
                      <span>하나머니</span>
                      <span class="total_amount"><em class="txt_num">1,000,000</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy02" name="ccy" checked />
                      <label for="ccy02"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_cur_usd"></span>
                      <span>미국 USD</span>
                      <span class="total_amount"><em class="txt_num">9,000.00</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                </ul>
              </div>
              <div class="list_moneybag">
                <h3><span class="txt">홈 화면에서 숨겼어요</span><span class="bor"></span></h3>
                <ul id="hideList">
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy03" name="ccy" />
                      <label for="ccy03"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy empty"><!-- 보유금액이 없는 경우 empty class추가 -->
                      <span class="ico_cur_jpy"></span>
                      <span>일본 JPY</span>
                      <span class="total_amount"><em class="txt_num">0</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy04" name="ccy" />
                      <label for="ccy04"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy empty"><!-- 보유금액이 없는 경우 empty class추가 -->
                      <span class="ico_cur_eur"></span>
                      <span>유럽 EUR</span>
                      <span class="total_amount"><em class="txt_num">0</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy05" name="ccy" />
                      <label for="ccy05"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_cur_gbp"></span>
                      <span>영국 GBP</span>
                      <span class="total_amount"><em class="txt_num">9,999.00</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy06" name="ccy" />
                      <label for="ccy06"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_cur_cny"></span>
                      <span>중국 CNY</span>
                      <span class="total_amount"><em class="txt_num">9,999.00</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy07" name="ccy" />
                      <label for="ccy07"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_cur_sgd"></span>
                      <span>싱가포르 SGD</span>
                      <span class="total_amount"><em class="txt_num">9,999.00</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy08" name="ccy" />
                      <label for="ccy08"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_cur_vnd"></span>
                      <span>베트남 VND</span>
                      <span class="total_amount"><em class="txt_num">99,999,999</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy09" name="ccy" />
                      <label for="ccy09"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_9.html" class="txt_ccy">
                      <span class="ico_cur_cad"></span>
                      <span>캐나다 CAD</span>
                      <span class="total_amount"><em class="txt_num">9,999.00</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                  <li>
                    <span class="chk_star">
                      <input type="checkbox" id="ccy10" name="ccy" />
                      <label for="ccy10"><span class="blind">홈 화면에 보이기</span></label>
                    </span>
                    <a href="HMN_102_2.html" class="txt_ccy">
                      <span class="ico_cur_aud"></span>
                      <span>호주 AUD</span>
                      <span class="total_amount"><em class="txt_num">9,999.00</em></span>
                    </a>
                    <button type="button" class="btn_ico_more type_white"><span class="blind">돈통더보기</span></button>
                  </li>
                </ul>
              </div>
              <p class="txt_center">이 외 지역에서는 달러머니를 이용하세요!</p>
            </div>
            <!-- // 22.11.00 환종추가 -->
            <!-- // CASE #3 약관동의O 계좌연결O -->

          </div>
        </div>
        <button class="btn_close_txt type_bottom fnClosePop"><span>닫기</span><span class="btn_ico_close_wxs"></span></button><!-- 22.11.00 버튼 마크업 변경 -->
      </div>
    </div>
    <!-- // popup -->

    <div id="snackbar" class="wrap_toast type_snackbar top">
      <p class="txt_toast">원화 하나머니는<br>홈 화면에서 숨길 수 없어요.</p>
      <button class="btn_ico_close_w"><span class="blind">닫기</span></button>
    </div>

  </main>
  
  <script src="../../../js/hmui/lib/Sortable.js"></script>
  <script>
    $(function(){
      // 팝업 열기 param 오픈할 팝업 id
      fnOpenLayerPop('popupId');

      // 재정렬
      $('.btn_ico_reordering').on('click', function(){
        $(this).addClass('loading');

        // 재정렬 완료시 loading 클래스 삭제
        setTimeout(function(){
          $(this).removeClass('loading');
        }.bind(this),2000);
      }); 

      // 순서변경
      $('.chk_star label').on('click', function(){
        var from = $(this).closest('ul').attr('id');
        var $itemEl = $(this).closest('li');

        //2C. 하나머니 미노출 불가
        if ($itemEl.attr('id') == 'hanamoney') {
          fnToastPop('snackbar');
          return false;
        }

        if (from == 'showList') {
          setTimeout(function(){
            $('#hideList').prepend($itemEl);
          },100);
        } else {
          setTimeout(function(){
            $('#showList').append($itemEl);
          },100);
        }
      });

      // 홈화면 노출 리스트
      var sortShowList = new Sortable(showList, {
        group: {
          name: 'shared',
        },
        direction: 'vertical',
        animation: 150,
        onEnd: function (evt) {
          var $itemEl = $(evt.item);

          // 하나머니 6a-1 미노출불가
          if ($itemEl.attr('id') == 'hanamoney' && evt.to != evt.from ) {
            $(evt.from).find('li').eq(evt.oldIndex).before($itemEl);
            $itemEl.removeClass('forbidden');
            setTimeout(function(){
              fnToastPop('snackbar');
            },300);
            return;
          }
          // 미노출 시 체크해제
          if ( evt.to !== evt.from ) {
            setTimeout(function(){
              $itemEl.find('.chk_star input').prop('checked', false);
            },0);
          }
        },
        onMove: function (evt, originalEvent) {
          var $itemEl = $(evt.dragged);
          var $relatedList = $(evt.related).parent('ul').attr('id');

          // 하나머니 미노출 불가
          if ($itemEl.attr('id') === 'hanamoney' && $relatedList !== 'showList' ) {
            $itemEl.addClass('forbidden');
          } else {
            $itemEl.removeClass('forbidden');
          }
        }
      });
      // 홈화면 미노출 리스트
      var sortHideList = new Sortable(hideList, {
        group: {
          name: 'shared',
        },
        animation: 150,
        onEnd: function (evt) {
          var $itemEl = $(evt.item);

          // 노출 시 체크
          if ( evt.to !== evt.from ) {
            setTimeout(function(){
              $itemEl.find('.chk_star input').prop('checked', true);
            },0);
          }
        },
      })
    });
  </script>
</body>
</html>